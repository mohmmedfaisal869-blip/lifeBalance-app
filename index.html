<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    
    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="LifeBalance" />
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2966/2966327.png" />
    
    <title>LifeBalance App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'Cairo', 'sans-serif'],
            },
          },
        },
      }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <style>
      :root {
        --font-arabic: 'Cairo', sans-serif;
        --font-english: 'Inter', sans-serif;
      }
      [dir="rtl"] { font-family: var(--font-arabic); }
      [dir="ltr"] { font-family: var(--font-english); }
      
      body {
        transition: background-color 0.3s ease, color 0.3s ease;
        overscroll-behavior-y: auto;
        -webkit-tap-highlight-color: transparent;
        min-height: 100vh;
        overflow-y: auto;
        margin: 0;
        touch-action: pan-y;
      }
      #root { height: 100%; width: 100%; }
      .ios-scroll { -webkit-overflow-scrolling: touch; overflow-y: auto; touch-action: pan-y; }
      @media (pointer: coarse) {
        ::-webkit-scrollbar { display: none; }
      }
      
      #error-display {
        position: fixed;
        top: 0; left: 0; right: 0;
        background: #fee2e2;
        color: #991b1b;
        padding: 1rem;
        font-family: monospace;
        z-index: 9999;
        display: none;
        border-bottom: 2px solid #ef4444;
        white-space: pre-wrap;
      }

      @keyframes spin { to { transform: rotate(360deg); } }
      .loading-spinner {
        width: 40px;
        height: 40px;
        border: 4px solid #3b82f6;
        border-top-color: transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
      }

      @keyframes fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes slide-up {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      @keyframes scale-in {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }

      @keyframes zoom-in {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
      }

      .animate-in {
        animation: fade-in 0.5s ease-out;
      }

      .slide-up {
        animation: slide-up 0.5s ease-out;
      }

      .scale-in-center {
        animation: scale-in 0.3s ease-out;
      }

      .zoom-in {
        animation: zoom-in 0.3s ease-out;
      }

      /* Smooth transitions for interactive elements */
      button, a, input, textarea, select {
        transition: all 0.2s ease;
      }

      /* Better focus states for accessibility */
      button:focus-visible,
      input:focus-visible,
      textarea:focus-visible,
      select:focus-visible {
        outline: 2px solid #3b82f6;
        outline-offset: 2px;
      }

      /* Improved scrollbar for webkit browsers */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }

      ::-webkit-scrollbar-track {
        background: transparent;
      }

      ::-webkit-scrollbar-thumb {
        background: rgba(148, 163, 184, 0.3);
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: rgba(148, 163, 184, 0.5);
      }

      /* Better text selection */
      ::selection {
        background: #3b82f6;
        color: white;
      }

      /* Reduce motion for users who prefer it */
      @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
          animation-duration: 0.01ms !important;
          animation-iteration-count: 1 !important;
          transition-duration: 0.01ms !important;
        }
      }
    </style>
    
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.3.1",
    "react-dom": "https://esm.sh/react-dom@18.3.1",
    "react-dom/client": "https://esm.sh/react-dom@18.3.1/client",
    "react/jsx-runtime": "https://esm.sh/react@18.3.1/jsx-runtime",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0?deps=react@18.3.1",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
    
    <script>
      window.onerror = function(msg, url, line, col, error) {
        const display = document.getElementById('error-display');
        if (display) {
          display.style.display = 'block';
          display.innerText = `Error: ${msg}\nLocation: ${url}:${line}:${col}\n\nHint: If you see "Cross-Origin" error, try serving this folder through a local web server.`;
        }
        return false;
      };
    </script>
  <link rel="stylesheet" href="/index.css">
</head>
  <body class="bg-slate-50 dark:bg-slate-900">
    <div id="error-display"></div>
    <div id="root">
      <div style="height: 100vh; display: flex; align-items: center; justify-content: center; font-family: sans-serif; color: #64748b;">
        <div style="text-align: center;">
          <div class="loading-spinner"></div>
          <span>Starting LifeBalance...</span>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.0/dist/confetti.browser.min.js"></script>
    <script type="module" src="/index.tsx"></script>
</body>
</html>